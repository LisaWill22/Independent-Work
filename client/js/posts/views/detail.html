<!-- Show loader while CTRL is loading items -->
<div ng-show="loading" class="text-center ng-show-fade">
    Loading post
    <spinner></spinner>
</div>

<div class="row ng-show-fade" ng-show="!loading">

    <div class="col-md-3 col-sm-4">
        <div class="panel panel-default panel-post-stats" bs-affix>
            <div class="panel-heading">
                <h4>Post Stats</h4>
            </div>
            <div class="panel-body">
                <div class="row-fluid clearfix">
                    <div class="col-xs-12">
                        <p>{{ post.replies.length }} replies</p>
                        <p ng-show="post.skills && post.skills.length" ng-repeat="skill in post.skills">
                            <span class="label label-primary label-skill">{{ skill.name }}</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-9 col-sm-8">
        <div class="row">
            <div class="col-xs-12">
                <div class="panel panel-default">
                    <div class="panel-heading clearfix">
                        <h3 class="pull-left">{{ post.title }}</h3>
                        <div class="pull-right panel-align-top">
                            <button class="btn btn-link"
                                    ng-show="post.user._id === currentUser._id"
                                    ng-click="openEditPostModal(post)">
                                <i class="fa fa-fw fa-2x fa-gear"></i>
                            </button>
                            <button scroll-to="replyBox" scroll-to-offset="100" class="btn btn-primary btn-sm">
                                <i class="fa fa-fw fa-reply" aria-hidden="true"></i>
                                Reply
                            </button>
                        </div>
                    </div>
                    <div ng-include=" 'posts/views/_post-head.html' "></div>
                </div>
                <div class="post-replies">
                    <div ng-repeat="reply in post.replies track by $index" ng-include=" 'posts/views/_post-reply.html' "></div>
                </div>
                <div class="spacer"></div>
                <div class="post-foot">
                    <div ng-include=" 'posts/views/_post-foot.html' "></div>
                </div>
            </div>
        </div>
    </div>
</div>
